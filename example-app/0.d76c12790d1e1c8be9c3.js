(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{xV2a:function(n,t,e){"use strict";e.r(t);var o={};e.d(o,"BookActionTypes",function(){return H}),e.d(o,"LoadBook",function(){return en});var l={};e.d(l,"BooksApiActionTypes",function(){return tn}),e.d(l,"SearchSuccess",function(){return ln}),e.d(l,"SearchFailure",function(){return rn});var r={};e.d(r,"CollectionApiActionTypes",function(){return on}),e.d(r,"AddBookSuccess",function(){return un}),e.d(r,"AddBookFailure",function(){return cn}),e.d(r,"RemoveBookSuccess",function(){return sn}),e.d(r,"RemoveBookFailure",function(){return dn}),e.d(r,"LoadBooksSuccess",function(){return fn}),e.d(r,"LoadBooksFailure",function(){return bn});var a={};e.d(a,"CollectionPageActionTypes",function(){return an}),e.d(a,"LoadCollection",function(){return mn});var i={};e.d(i,"FindBookPageActionTypes",function(){return pn}),e.d(i,"SearchBooks",function(){return gn});var u={};e.d(u,"SelectedBookPageActionTypes",function(){return hn}),e.d(u,"AddBook",function(){return yn}),e.d(u,"RemoveBook",function(){return vn});var c={};e.d(c,"ViewBookPageActionTypes",function(){return kn}),e.d(c,"SelectBook",function(){return On});var s=e("CcnG"),d=function(){},f=e("t68o"),b=e("pMnS"),p=e("lzlj"),m=e("FVSy"),h=e("dJrM"),g=e("seP3"),k=e("Wf4p"),y=e("Fzqc"),v=e("dWZg"),O=e("wFw1"),j=e("b716"),S=e("gIcY"),B=e("/VYK"),C=e("Blfk"),w=e("Ip0R"),P=s.Ra({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function A(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,e._circleRadius,"mat-progress-spinner-stroke-rotate-"+e.diameter,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function T(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,e._circleRadius,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function x(n){return s.lb(2,[(n()(),s.Ta(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),s.Sa(1,16384,null,0,w.m,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),s.Ka(16777216,null,null,1,null,A)),s.Sa(3,278528,null,0,w.n,[s.S,s.P,w.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),s.Ka(16777216,null,null,1,null,T)),s.Sa(5,278528,null,0,w.n,[s.S,s.P,w.m],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(n,t){n(t,1,0,"indeterminate"===t.component.mode),n(t,3,0,!0),n(t,5,0,!1)},function(n,t){var e=t.component;n(t,0,0,e.diameter,e.diameter,e._viewBox)})}var _=function(){return function(){this.query="",this.searching=!1,this.error="",this.search=new s.n}}(),I=s.Ra({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: center;\n      }\n\n      mat-card-footer[_ngcontent-%COMP%] {\n        color: #ff0000;\n        padding: 5px 0;\n      }\n\n      .mat-form-field[_ngcontent-%COMP%] {\n        min-width: 300px;\n        margin-right: 10px; // Make room for the spinner\n      }\n\n      .mat-spinner[_ngcontent-%COMP%] {\n        position: relative;\n        top: 10px;\n        left: 10px;\n        visibility: hidden;\n      }\n\n      .mat-spinner.show[_ngcontent-%COMP%] {\n        visibility: visible;\n      }"],data:{}});function F(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),s.jb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.error)})}function M(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,24,"mat-card",[["class","mat-card"]],null,null,null,p.d,p.a)),s.Sa(1,49152,null,0,m.a,[],null,null),(n()(),s.Ta(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.Sa(3,16384,null,0,m.i,[],null,null),(n()(),s.jb(-1,null,["Find a Book"])),(n()(),s.Ta(5,0,null,0,15,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.Sa(6,16384,null,0,m.c,[],null,null),(n()(),s.Ta(7,0,null,null,11,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,h.b,h.a)),s.Sa(8,7389184,null,7,g.b,[s.l,s.i,[2,k.f],[2,y.b],[2,g.a],v.a,s.B,[2,O.a]],null,null),s.hb(335544320,1,{_control:0}),s.hb(335544320,2,{_placeholderChild:0}),s.hb(335544320,3,{_labelChild:0}),s.hb(603979776,4,{_errorChildren:1}),s.hb(603979776,5,{_hintChildren:1}),s.hb(603979776,6,{_prefixChildren:1}),s.hb(603979776,7,{_suffixChildren:1}),(n()(),s.Ta(16,0,null,1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Search for a book"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],function(n,t,e){var o=!0,l=n.component;return"blur"===t&&(o=!1!==s.cb(n,17)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==s.cb(n,17)._focusChanged(!0)&&o),"input"===t&&(o=!1!==s.cb(n,17)._onInput()&&o),"keyup"===t&&(o=!1!==l.search.emit(e.target.value)&&o),o},null,null)),s.Sa(17,999424,null,0,j.a,[s.l,v.a,[8,null],[2,S.m],[2,S.h],k.b,[8,null],B.a,s.B],{placeholder:[0,"placeholder"],value:[1,"value"]},null),s.gb(2048,[[1,4]],g.c,null,[j.a]),(n()(),s.Ta(19,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"show",null],[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,x,P)),s.Sa(20,49152,null,0,C.d,[s.l,v.a,[2,w.d],[2,O.a],C.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null),(n()(),s.Ta(21,0,null,1,3,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),s.Sa(22,16384,null,0,m.d,[],null,null),(n()(),s.Ka(16777216,null,null,1,null,F)),s.Sa(24,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,17,0,"Search for a book",e.query),n(t,20,0,30,3),n(t,24,0,e.error)},function(n,t){var e=t.component;n(t,7,1,["standard"==s.cb(t,8).appearance,"fill"==s.cb(t,8).appearance,"outline"==s.cb(t,8).appearance,"legacy"==s.cb(t,8).appearance,s.cb(t,8)._control.errorState,s.cb(t,8)._canLabelFloat,s.cb(t,8)._shouldLabelFloat(),s.cb(t,8)._hideControlPlaceholder(),s.cb(t,8)._control.disabled,s.cb(t,8)._control.autofilled,s.cb(t,8)._control.focused,"accent"==s.cb(t,8).color,"warn"==s.cb(t,8).color,s.cb(t,8)._shouldForward("untouched"),s.cb(t,8)._shouldForward("touched"),s.cb(t,8)._shouldForward("pristine"),s.cb(t,8)._shouldForward("dirty"),s.cb(t,8)._shouldForward("valid"),s.cb(t,8)._shouldForward("invalid"),s.cb(t,8)._shouldForward("pending"),!s.cb(t,8)._animationsEnabled]),n(t,16,0,s.cb(t,17)._isServer,s.cb(t,17).id,s.cb(t,17).placeholder,s.cb(t,17).disabled,s.cb(t,17).required,s.cb(t,17).readonly,s.cb(t,17)._ariaDescribedby||null,s.cb(t,17).errorState,s.cb(t,17).required.toString()),n(t,19,0,e.searching,s.cb(t,20)._noopAnimations,s.cb(t,20).diameter,s.cb(t,20).diameter)})}var L=function(){function n(){}return n.prototype.transform=function(n,t){void 0===t&&(t=250);var e=n.replace(/(<([^>]+)>)/gi,"");return n.length>=t?e.slice(0,t)+"...":e},n}(),R=e("ZYCi"),$=function(){function n(){}return n.prototype.transform=function(n){if(!n)return"Author Unknown";switch(n.length){case 0:return"Author Unknown";case 1:return n[0];case 2:return n.join(" and ");default:var t=n[n.length-1];return n.slice(0,-1).join(", ")+", and "+t}},n}(),N=e("0/Q6"),q=function(){function n(){}return Object.defineProperty(n.prototype,"authors",{get:function(){return this.book.volumeInfo.authors},enumerable:!0,configurable:!0}),n}(),K=s.Ra({encapsulation:0,styles:["h5[_ngcontent-%COMP%] {\n        margin-bottom: 5px;\n      }"],data:{}});function E(n){return s.lb(0,[s.eb(0,$,[]),(n()(),s.Ta(1,0,null,null,2,"h5",[["class","mat-subheader"],["mat-subheader",""]],null,null,null,null,null)),s.Sa(2,16384,null,0,N.f,[],null,null),(n()(),s.jb(-1,null,["Written By:"])),(n()(),s.Ta(4,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),s.jb(5,null,[" "," "])),s.fb(6,1)],null,function(n,t){var e=t.component;n(t,5,0,s.kb(t,5,0,n(t,6,0,s.cb(t,0),e.authors)))})}var D=function(){function n(){}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")},enumerable:!0,configurable:!0}),n}(),W=s.Ra({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n      }\n\n      [_nghost-%COMP%]   a[_ngcontent-%COMP%] {\n        display: flex;\n      }\n\n      mat-card[_ngcontent-%COMP%] {\n        width: 400px;\n        margin: 15px;\n        display: flex;\n        flex-flow: column;\n        justify-content: space-between;\n      }\n\n      @media only screen and (max-width: 768px) {\n        mat-card[_ngcontent-%COMP%] {\n          margin: 15px 0 !important;\n        }\n      }\n      mat-card[_ngcontent-%COMP%]:hover {\n        box-shadow: 3px 3px 16px -2px rgba(0, 0, 0, 0.5);\n      }\n      mat-card-title[_ngcontent-%COMP%] {\n        margin-right: 10px;\n      }\n      mat-card-title-group[_ngcontent-%COMP%] {\n        margin: 0;\n      }\n      a[_ngcontent-%COMP%] {\n        color: inherit;\n        text-decoration: none;\n      }\n      img[_ngcontent-%COMP%] {\n        width: 60px;\n        min-width: 60px;\n        margin-left: 5px;\n      }\n      mat-card-content[_ngcontent-%COMP%] {\n        margin-top: 15px;\n        margin: 15px 0 0;\n      }\n      span[_ngcontent-%COMP%] {\n        display: inline-block;\n        font-size: 13px;\n      }\n      mat-card-footer[_ngcontent-%COMP%] {\n        padding: 0 25px 25px;\n      }"],data:{}});function X(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),s.Sa(1,16384,null,0,m.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function z(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),s.Sa(1,16384,null,0,m.h,[],null,null),(n()(),s.jb(2,null,["",""])),s.fb(3,2)],null,function(n,t){var e=t.component;n(t,2,0,s.kb(t,2,0,n(t,3,0,s.cb(t.parent,0),e.subtitle,40)))})}function Y(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),s.jb(1,null,["",""])),s.fb(2,1)],null,function(n,t){var e=t.component;n(t,1,0,s.kb(t,1,0,n(t,2,0,s.cb(t.parent,0),e.description)))})}function Z(n){return s.lb(0,[s.eb(0,L,[]),(n()(),s.Ta(1,0,null,null,22,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==s.cb(n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),s.Sa(2,671744,null,0,R.q,[R.o,R.a,w.h],{routerLink:[0,"routerLink"]},null),s.db(3,2),(n()(),s.Ta(4,0,null,null,19,"mat-card",[["class","mat-card"]],null,null,null,p.d,p.a)),s.Sa(5,49152,null,0,m.a,[],null,null),(n()(),s.Ta(6,0,null,0,9,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,p.c,p.b)),s.Sa(7,49152,null,0,m.j,[],null,null),(n()(),s.Ka(16777216,null,1,1,null,X)),s.Sa(9,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null),(n()(),s.Ta(10,0,null,0,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.Sa(11,16384,null,0,m.i,[],null,null),(n()(),s.jb(12,null,["",""])),s.fb(13,2),(n()(),s.Ka(16777216,null,0,1,null,z)),s.Sa(15,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null),(n()(),s.Ta(16,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.Sa(17,16384,null,0,m.c,[],null,null),(n()(),s.Ka(16777216,null,null,1,null,Y)),s.Sa(19,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null),(n()(),s.Ta(20,0,null,1,3,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),s.Sa(21,16384,null,0,m.d,[],null,null),(n()(),s.Ta(22,0,null,null,1,"bc-book-authors",[],null,null,null,E,K)),s.Sa(23,49152,null,0,q,[],{book:[0,"book"]},null)],function(n,t){var e=t.component;n(t,2,0,n(t,3,0,"/books",e.id)),n(t,9,0,e.thumbnail),n(t,15,0,e.subtitle),n(t,19,0,e.description),n(t,23,0,e.book)},function(n,t){var e=t.component;n(t,1,0,s.cb(t,2).target,s.cb(t,2).href),n(t,12,0,s.kb(t,12,0,n(t,13,0,s.cb(t,0),e.title,35)))})}var V=function(){},G=s.Ra({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center;\n      }"],data:{}});function J(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,1,"bc-book-preview",[],null,null,null,Z,W)),s.Sa(1,49152,null,0,D,[],{book:[0,"book"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function Q(n){return s.lb(0,[(n()(),s.Ka(16777216,null,null,1,null,J)),s.Sa(1,278528,null,0,w.i,[s.S,s.P,s.u],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,1,0,t.component.books)},null)}var H,U=e("bUQ0"),nn=e("t9fZ");!function(n){n.LoadBook="[Book Exists Guard] Load Book"}(H||(H={}));var tn,en=function(){return function(n){this.payload=n,this.type=H.LoadBook}}();!function(n){n.SearchSuccess="[Books/API] Search Success",n.SearchFailure="[Books/API] Search Failure"}(tn||(tn={}));var on,ln=function(){return function(n){this.payload=n,this.type=tn.SearchSuccess}}(),rn=function(){return function(n){this.payload=n,this.type=tn.SearchFailure}}();!function(n){n.AddBookSuccess="[Collection/API] Add Book Success",n.AddBookFailure="[Collection/API] Add Book Failure",n.RemoveBookSuccess="[Collection/API] Remove Book Success",n.RemoveBookFailure="[Collection/API] Remove Book Failure",n.LoadBooksSuccess="[Collection/API] Load Books Success",n.LoadBooksFailure="[Collection/API] Load Books Failure"}(on||(on={}));var an,un=function(){return function(n){this.payload=n,this.type=on.AddBookSuccess}}(),cn=function(){return function(n){this.payload=n,this.type=on.AddBookFailure}}(),sn=function(){return function(n){this.payload=n,this.type=on.RemoveBookSuccess}}(),dn=function(){return function(n){this.payload=n,this.type=on.RemoveBookFailure}}(),fn=function(){return function(n){this.payload=n,this.type=on.LoadBooksSuccess}}(),bn=function(){return function(n){this.payload=n,this.type=on.LoadBooksFailure}}();!function(n){n.LoadCollection="[Collection Page] Load Collection"}(an||(an={}));var pn,mn=function(){return function(){this.type=an.LoadCollection}}();!function(n){n.SearchBooks="[Find Book Page] Search Books"}(pn||(pn={}));var hn,gn=function(){return function(n){this.payload=n,this.type=pn.SearchBooks}}();!function(n){n.AddBook="[Selected Book Page] Add Book",n.RemoveBook="[Selected Book Page] Remove Book"}(hn||(hn={}));var kn,yn=function(){return function(n){this.payload=n,this.type=hn.AddBook}}(),vn=function(){return function(n){this.payload=n,this.type=hn.RemoveBook}}();!function(n){n.SelectBook="[View Book Page] Select Book"}(kn||(kn={}));var On=function(){return function(n){this.payload=n,this.type=kn.SelectBook}}(),jn=e("wvrL"),Sn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n},Bn={ids:[],loading:!1,error:"",query:""};function Cn(n,t){switch(void 0===n&&(n=Bn),t.type){case i.FindBookPageActionTypes.SearchBooks:var e=t.payload;return""===e?{ids:[],loading:!1,error:"",query:e}:Sn({},n,{loading:!0,error:"",query:e});case l.BooksApiActionTypes.SearchSuccess:return{ids:t.payload.map(function(n){return n.id}),loading:!1,error:"",query:n.query};case l.BooksApiActionTypes.SearchFailure:return Sn({},n,{loading:!1,error:t.payload});default:return n}}var wn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n},Pn=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}({});function An(n){return function(t,e){var o={ids:e.ids.slice(),entities:wn({},e.entities)},l=n(t,o);return l===Pn.Both?Object.assign({},e,o):l===Pn.EntitiesOnly?wn({},e,{entities:o.entities}):e}}function Tn(n,t){var e=t(n);return Object(s.Ba)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",t.toString()),e}function xn(n){function t(t,e){var o=Tn(t,n);return o in e.entities?Pn.None:(e.ids.push(o),e.entities[o]=t,Pn.Both)}function e(n,e){for(var o=!1,l=0,r=n;l<r.length;l++)o=t(r[l],e)!==Pn.None||o;return o?Pn.Both:Pn.None}function o(n,t){var e=n.filter(function(n){return n in t.entities}).map(function(n){return delete t.entities[n]}).length>0;return e&&(t.ids=t.ids.filter(function(n){return n in t.entities})),e?Pn.Both:Pn.None}function l(t,e){var o={};return(t=t.filter(function(n){return n.id in e.entities})).length>0?t.filter(function(t){return function(t,e,o){var l=Object.assign({},o.entities[e.id],e.changes),r=Tn(l,n),a=r!==e.id;return a&&(t[e.id]=r,delete o.entities[e.id]),o.entities[r]=l,a}(o,t,e)}).length>0?(e.ids=e.ids.map(function(n){return o[n]||n}),Pn.Both):Pn.EntitiesOnly:Pn.None}function r(t,o){for(var r=[],a=[],i=0,u=t;i<u.length;i++){var c=u[i],s=Tn(c,n);s in o.entities?a.push({id:s,changes:c}):r.push(c)}var d=l(a,o),f=e(r,o);switch(!0){case f===Pn.None&&d===Pn.None:return Pn.None;case f===Pn.Both||d===Pn.Both:return Pn.Both;default:return Pn.EntitiesOnly}}return{removeAll:function(n){return Object.assign({},n,{ids:[],entities:{}})},addOne:An(t),addMany:An(e),addAll:An(function(n,t){return t.ids=[],t.entities={},e(n,t),Pn.Both}),updateOne:An(function(n,t){return l([n],t)}),updateMany:An(l),upsertOne:An(function(n,t){return r([n],t)}),upsertMany:An(r),removeOne:An(function(n,t){return o([n],t)}),removeMany:An(o)}}var _n=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n},In=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n},Fn=function(n){void 0===n&&(n={});var t=_n({sortComparer:!1,selectId:function(n){return n.id}},n),e=t.selectId,o=t.sortComparer,l={getInitialState:function(n){return void 0===n&&(n={}),Object.assign({ids:[],entities:{}},n)}},r={getSelectors:function(n){var t=function(n){return n.ids},e=function(n){return n.entities},o=Object(jn.b)(t,e,function(n,t){return n.map(function(n){return t[n]})}),l=Object(jn.b)(t,function(n){return n.length});return n?{selectIds:Object(jn.b)(n,t),selectEntities:Object(jn.b)(n,e),selectAll:Object(jn.b)(n,o),selectTotal:Object(jn.b)(n,l)}:{selectIds:t,selectEntities:e,selectAll:o,selectTotal:l}}},a=o?function(n,t){var e=xn(n);function o(t,e){var o=t.filter(function(t){return!(Tn(t,n)in e.entities)});return 0===o.length?Pn.None:(a(o,e),Pn.Both)}function l(t,e){var o=[],l=t.filter(function(t){return function(t,e,o){if(!(e.id in o.entities))return!1;var l=Object.assign({},o.entities[e.id],e.changes),r=Tn(l,n);return delete o.entities[e.id],t.push(l),r!==e.id}(o,t,e)}).length>0;if(0===o.length)return Pn.None;var r=e.ids,i=[];return e.ids=e.ids.filter(function(n,t){return n in e.entities||(i.push(t),!1)}),a(o,e),!l&&i.every(function(n){return e.ids[n]===r[n]})?Pn.EntitiesOnly:Pn.Both}function r(t,e){for(var r=[],a=[],i=0,u=t;i<u.length;i++){var c=u[i],s=Tn(c,n);s in e.entities?a.push({id:s,changes:c}):r.push(c)}var d=l(a,e),f=o(r,e);switch(!0){case f===Pn.None&&d===Pn.None:return Pn.None;case f===Pn.Both||d===Pn.Both:return Pn.Both;default:return Pn.EntitiesOnly}}function a(e,o){e.sort(t);for(var l=[],r=0,a=0;r<e.length&&a<o.ids.length;){var i=e[r],u=Tn(i,n),c=o.ids[a];t(i,o.entities[c])<=0?(l.push(u),r++):(l.push(c),a++)}o.ids=l.concat(r<e.length?e.slice(r).map(n):o.ids.slice(a)),e.forEach(function(t,e){o.entities[n(t)]=t})}return{removeOne:e.removeOne,removeMany:e.removeMany,removeAll:e.removeAll,addOne:An(function(n,t){return o([n],t)}),updateOne:An(function(n,t){return l([n],t)}),upsertOne:An(function(n,t){return r([n],t)}),addAll:An(function(n,t){return t.entities={},t.ids=[],o(n,t),Pn.Both}),addMany:An(o),updateMany:An(l),upsertMany:An(r)}}(e,o):xn(e);return _n({selectId:e,sortComparer:o},l,r,a)}({selectId:function(n){return n.id},sortComparer:!1}),Mn=Fn.getInitialState({selectedBookId:null});function Ln(n,t){switch(void 0===n&&(n=Mn),t.type){case l.BooksApiActionTypes.SearchSuccess:case r.CollectionApiActionTypes.LoadBooksSuccess:return Fn.addMany(t.payload,n);case o.BookActionTypes.LoadBook:return Fn.addOne(t.payload,n);case c.ViewBookPageActionTypes.SelectBook:return In({},n,{selectedBookId:t.payload});default:return n}}var Rn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n},$n={loaded:!1,loading:!1,ids:[]};function Nn(n,t){switch(void 0===n&&(n=$n),t.type){case a.CollectionPageActionTypes.LoadCollection:return Rn({},n,{loading:!0});case r.CollectionApiActionTypes.LoadBooksSuccess:return{loaded:!0,loading:!1,ids:t.payload.map(function(n){return n.id})};case r.CollectionApiActionTypes.AddBookSuccess:case r.CollectionApiActionTypes.RemoveBookFailure:return n.ids.indexOf(t.payload.id)>-1?n:Rn({},n,{ids:n.ids.concat([t.payload.id])});case r.CollectionApiActionTypes.RemoveBookSuccess:case r.CollectionApiActionTypes.AddBookFailure:return Rn({},n,{ids:n.ids.filter(function(n){return n!==t.payload.id})});default:return n}}var qn=Object(jn.a)("books"),Kn=Object(jn.b)(qn,function(n){return n.books}),En=Object(jn.b)(Kn,function(n){return n.selectedBookId}),Dn=Fn.getSelectors(Kn).selectEntities,Wn=Object(jn.b)(Dn,En,function(n,t){return t&&n[t]}),Xn=Object(jn.b)(qn,function(n){return n.search}),zn=Object(jn.b)(Xn,function(n){return n.ids}),Yn=Object(jn.b)(Xn,function(n){return n.query}),Zn=Object(jn.b)(Xn,function(n){return n.loading}),Vn=Object(jn.b)(Xn,function(n){return n.error}),Gn=Object(jn.b)(Dn,zn,function(n,t){return t.map(function(t){return n[t]})}),Jn=Object(jn.b)(qn,function(n){return n.collection}),Qn=Object(jn.b)(Jn,function(n){return n.loaded}),Hn=(Object(jn.b)(Jn,function(n){return n.loading}),Object(jn.b)(Jn,function(n){return n.ids})),Un=Object(jn.b)(Dn,Hn,function(n,t){return t.map(function(t){return n[t]})}),nt=Object(jn.b)(Hn,En,function(n,t){return t&&n.indexOf(t)>-1}),tt=function(){function n(n){this.store=n,this.searchQuery$=n.pipe(Object(U.c)(Yn),Object(nn.a)(1)),this.books$=n.pipe(Object(U.c)(Gn)),this.loading$=n.pipe(Object(U.c)(Zn)),this.error$=n.pipe(Object(U.c)(Vn))}return n.prototype.search=function(n){this.store.dispatch(new i.SearchBooks(n))},n}(),et=s.Ra({encapsulation:2,styles:[],data:{}});function ot(n){return s.lb(2,[(n()(),s.Ta(0,0,null,null,4,"bc-book-search",[],null,[[null,"search"]],function(n,t,e){var o=!0;return"search"===t&&(o=!1!==n.component.search(e)&&o),o},M,I)),s.Sa(1,49152,null,0,_,[],{query:[0,"query"],searching:[1,"searching"],error:[2,"error"]},{search:"search"}),s.eb(131072,w.b,[s.i]),s.eb(131072,w.b,[s.i]),s.eb(131072,w.b,[s.i]),(n()(),s.Ta(5,0,null,null,2,"bc-book-preview-list",[],null,null,null,Q,G)),s.Sa(6,49152,null,0,V,[],{books:[0,"books"]},null),s.eb(131072,w.b,[s.i])],function(n,t){var e=t.component;n(t,1,0,s.kb(t,1,0,s.cb(t,2).transform(e.searchQuery$)),s.kb(t,1,1,s.cb(t,3).transform(e.loading$)),s.kb(t,1,2,s.cb(t,4).transform(e.error$))),n(t,6,0,s.kb(t,6,0,s.cb(t,7).transform(e.books$)))},null)}var lt=s.Pa("bc-find-book-page",tt,function(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,1,"bc-find-book-page",[],null,null,null,ot,et)),s.Sa(1,49152,null,0,tt,[U.b],null,null)],null,null)},{},{},[]),rt=e("bujt"),at=e("UodH"),it=e("lLAP"),ut=function(){function n(){this.add=new s.n,this.remove=new s.n}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")},enumerable:!0,configurable:!0}),n}(),ct=s.Ra({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n        justify-content: center;\n        margin: 75px 0;\n      }\n      mat-card[_ngcontent-%COMP%] {\n        max-width: 600px;\n      }\n      mat-card-title-group[_ngcontent-%COMP%] {\n        margin-left: 0;\n      }\n      img[_ngcontent-%COMP%] {\n        width: 60px;\n        min-width: 60px;\n        margin-left: 5px;\n      }\n      mat-card-content[_ngcontent-%COMP%] {\n        margin: 15px 0 50px;\n      }\n      mat-card-actions[_ngcontent-%COMP%] {\n        margin: 25px 0 0 !important;\n      }\n      mat-card-footer[_ngcontent-%COMP%] {\n        padding: 0 25px 25px;\n        position: relative;\n      }"],data:{}});function st(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),s.Sa(1,16384,null,0,m.h,[],null,null),(n()(),s.jb(2,null,["",""]))],null,function(n,t){n(t,2,0,t.component.subtitle)})}function dt(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),s.Sa(1,16384,null,0,m.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function ft(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var o=!0,l=n.component;return"click"===t&&(o=!1!==l.remove.emit(l.book)&&o),o},rt.b,rt.a)),s.Sa(1,180224,null,0,at.b,[s.l,v.a,it.b,[2,O.a]],{color:[0,"color"]},null),(n()(),s.jb(-1,0,[" Remove Book from Collection "]))],function(n,t){n(t,1,0,"warn")},function(n,t){n(t,0,0,s.cb(t,1).disabled||null,"NoopAnimations"===s.cb(t,1)._animationMode)})}function bt(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var o=!0,l=n.component;return"click"===t&&(o=!1!==l.add.emit(l.book)&&o),o},rt.b,rt.a)),s.Sa(1,180224,null,0,at.b,[s.l,v.a,it.b,[2,O.a]],{color:[0,"color"]},null),(n()(),s.jb(-1,0,[" Add Book to Collection "]))],function(n,t){n(t,1,0,"primary")},function(n,t){n(t,0,0,s.cb(t,1).disabled||null,"NoopAnimations"===s.cb(t,1)._animationMode)})}function pt(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,23,"mat-card",[["class","mat-card"]],null,null,null,p.d,p.a)),s.Sa(1,49152,null,0,m.a,[],null,null),(n()(),s.Ta(2,0,null,0,8,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,p.c,p.b)),s.Sa(3,49152,null,0,m.j,[],null,null),(n()(),s.Ta(4,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.Sa(5,16384,null,0,m.i,[],null,null),(n()(),s.jb(6,null,["",""])),(n()(),s.Ka(16777216,null,0,1,null,st)),s.Sa(8,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null),(n()(),s.Ka(16777216,null,1,1,null,dt)),s.Sa(10,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null),(n()(),s.Ta(11,0,null,0,2,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.Sa(12,16384,null,0,m.c,[],null,null),(n()(),s.Ta(13,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),s.Ta(14,0,null,1,3,"mat-card-footer",[["class","footer mat-card-footer"]],null,null,null,null,null)),s.Sa(15,16384,null,0,m.d,[],null,null),(n()(),s.Ta(16,0,null,null,1,"bc-book-authors",[],null,null,null,E,K)),s.Sa(17,49152,null,0,q,[],{book:[0,"book"]},null),(n()(),s.Ta(18,0,null,0,5,"mat-card-actions",[["align","start"],["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),s.Sa(19,16384,null,0,m.b,[],{align:[0,"align"]},null),(n()(),s.Ka(16777216,null,null,1,null,ft)),s.Sa(21,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null),(n()(),s.Ka(16777216,null,null,1,null,bt)),s.Sa(23,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,8,0,e.subtitle),n(t,10,0,e.thumbnail),n(t,17,0,e.book),n(t,19,0,"start"),n(t,21,0,e.inCollection),n(t,23,0,!e.inCollection)},function(n,t){var e=t.component;n(t,6,0,e.title),n(t,13,0,e.description),n(t,18,0,"end"===s.cb(t,19).align)})}function mt(n){return s.lb(0,[(n()(),s.Ka(16777216,null,null,1,null,pt)),s.Sa(1,16384,null,0,w.j,[s.S,s.P],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.book)},null)}var ht=function(){function n(n){this.store=n,this.book$=n.pipe(Object(U.c)(Wn)),this.isSelectedBookInCollection$=n.pipe(Object(U.c)(nt))}return n.prototype.addToCollection=function(n){this.store.dispatch(new u.AddBook(n))},n.prototype.removeFromCollection=function(n){this.store.dispatch(new u.RemoveBook(n))},n}(),gt=s.Ra({encapsulation:2,styles:[],data:{}});function kt(n){return s.lb(2,[(n()(),s.Ta(0,0,null,null,3,"bc-book-detail",[],null,[[null,"add"],[null,"remove"]],function(n,t,e){var o=!0,l=n.component;return"add"===t&&(o=!1!==l.addToCollection(e)&&o),"remove"===t&&(o=!1!==l.removeFromCollection(e)&&o),o},mt,ct)),s.Sa(1,49152,null,0,ut,[],{book:[0,"book"],inCollection:[1,"inCollection"]},{add:"add",remove:"remove"}),s.eb(131072,w.b,[s.i]),s.eb(131072,w.b,[s.i])],function(n,t){var e=t.component;n(t,1,0,s.kb(t,1,0,s.cb(t,2).transform(e.book$)),s.kb(t,1,1,s.cb(t,3).transform(e.isSelectedBookInCollection$)))},null)}var yt=e("67Y/"),vt=function(){function n(n,t){this.actionsSubscription=t.params.pipe(Object(yt.a)(function(n){return new c.SelectBook(n.id)})).subscribe(n)}return n.prototype.ngOnDestroy=function(){this.actionsSubscription.unsubscribe()},n}(),Ot=s.Ra({encapsulation:2,styles:[],data:{}});function jt(n){return s.lb(2,[(n()(),s.Ta(0,0,null,null,1,"bc-selected-book-page",[],null,null,null,kt,gt)),s.Sa(1,49152,null,0,ht,[U.b],null,null)],null,null)}var St=s.Pa("bc-view-book-page",vt,function(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,1,"bc-view-book-page",[],null,null,null,jt,Ot)),s.Sa(1,180224,null,0,vt,[U.b,R.a],null,null)],null,null)},{},{},[]),Bt=function(){function n(n){this.store=n,this.books$=n.pipe(Object(U.c)(Un))}return n.prototype.ngOnInit=function(){this.store.dispatch(new a.LoadCollection)},n}(),Ct=s.Ra({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: center;\n      }"],data:{}});function wt(n){return s.lb(2,[(n()(),s.Ta(0,0,null,null,4,"mat-card",[["class","mat-card"]],null,null,null,p.d,p.a)),s.Sa(1,49152,null,0,m.a,[],null,null),(n()(),s.Ta(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.Sa(3,16384,null,0,m.i,[],null,null),(n()(),s.jb(-1,null,["My Collection"])),(n()(),s.Ta(5,0,null,null,2,"bc-book-preview-list",[],null,null,null,Q,G)),s.Sa(6,49152,null,0,V,[],{books:[0,"books"]},null),s.eb(131072,w.b,[s.i])],function(n,t){var e=t.component;n(t,6,0,s.kb(t,6,0,s.cb(t,7).transform(e.books$)))},null)}var Pt=s.Pa("bc-collection-page",Bt,function(n){return s.lb(0,[(n()(),s.Ta(0,0,null,null,1,"bc-collection-page",[],null,null,null,wt,Ct)),s.Sa(1,114688,null,0,Bt,[U.b],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),At=e("M2Lx"),Tt=e("eDkP"),xt=e("o3x0"),_t=e("qAlS"),It=e("Nsh5"),Ft=e("LC5p"),Mt=e("SMsm"),Lt=e("8mMr"),Rt=e("4c35"),$t=e("U8Sl"),Nt=function(){},qt=function(){},Kt=e("F/XL"),Et=e("15JJ"),Dt=e("VnD/"),Wt=e("xMyE"),Xt=e("9Z1F"),zt=e("t/Na"),Yt=function(){function n(n){this.http=n,this.API_PATH="https://www.googleapis.com/books/v1/volumes"}return n.prototype.searchBooks=function(n){return this.http.get(this.API_PATH+"?q="+n).pipe(Object(yt.a)(function(n){return n.items||[]}))},n.prototype.retrieveBook=function(n){return this.http.get(this.API_PATH+"/"+n)},n.ngInjectableDef=s.W({factory:function(){return new n(s.Aa(zt.c))},token:n,providedIn:"root"}),n}(),Zt=function(){function n(n,t,e){this.store=n,this.googleBooks=t,this.router=e}return n.prototype.waitForCollectionToLoad=function(){return this.store.pipe(Object(U.c)(Qn),Object(Dt.a)(function(n){return n}),Object(nn.a)(1))},n.prototype.hasBookInStore=function(n){return this.store.pipe(Object(U.c)(Dn),Object(yt.a)(function(t){return!!t[n]}),Object(nn.a)(1))},n.prototype.hasBookInApi=function(n){var t=this;return this.googleBooks.retrieveBook(n).pipe(Object(yt.a)(function(n){return new o.LoadBook(n)}),Object(Wt.a)(function(n){return t.store.dispatch(n)}),Object(yt.a)(function(n){return!!n}),Object(Xt.a)(function(){return t.router.navigate(["/404"]),Object(Kt.a)(!1)}))},n.prototype.hasBook=function(n){var t=this;return this.hasBookInStore(n).pipe(Object(Et.a)(function(e){return e?Object(Kt.a)(e):t.hasBookInApi(n)}))},n.prototype.canActivate=function(n){var t=this;return this.waitForCollectionToLoad().pipe(Object(Et.a)(function(){return t.hasBook(n.params.id)}))},n.ngInjectableDef=s.W({factory:function(){return new n(s.Aa(U.b),s.Aa(Yt),s.Aa(R.o))},token:n,providedIn:"root"}),n}(),Vt=function(){},Gt=e("KoCW"),Jt=e("kNOE"),Qt=e("eeLN"),Ht=e("PXu1"),Ut=e("mrSG"),ne=e("fuZ8"),te=e("dh7u"),ee=e("G5J1"),oe=e("T1DM"),le=e("Gi3i"),re=e("0mNj"),ae=e("ny24"),ie=function(){function n(n,t){var e=this;this.actions$=n,this.googleBooks=t,this.search$=function(n){var t=void 0===n?{}:n,o=t.debounce,r=void 0===o?300:o,a=t.scheduler,u=void 0===a?oe.a:a;return e.actions$.pipe(Object(ne.b)(i.FindBookPageActionTypes.SearchBooks),Object(le.a)(r,u),Object(yt.a)(function(n){return n.payload}),Object(Et.a)(function(n){if(""===n)return ee.a;var t=e.actions$.pipe(Object(ne.b)(i.FindBookPageActionTypes.SearchBooks),Object(re.a)(1));return e.googleBooks.searchBooks(n).pipe(Object(ae.a)(t),Object(yt.a)(function(n){return new l.SearchSuccess(n)}),Object(Xt.a)(function(n){return Object(Kt.a)(new l.SearchFailure(n))}))}))}}return Object(Ut.b)([Object(te.a)(),Object(Ut.d)("design:type",Object)],n.prototype,"search$",void 0),n}(),ue=e("6blF"),ce=e("lYZG"),se=e("psW0"),de=e("Qgas");function fe(n,t,e){return 0===e?[t]:(n.push(t),n)}var be=function(){function n(n,t){var e=this;this.actions$=n,this.db=t,this.openDB$=Object(ce.a)(function(){return e.db.open("books_app")}),this.loadCollection$=this.actions$.pipe(Object(ne.b)(a.CollectionPageActionTypes.LoadCollection),Object(Et.a)(function(){return e.db.query("books").pipe(Object(de.a)(fe,[]),Object(yt.a)(function(n){return new r.LoadBooksSuccess(n)}),Object(Xt.a)(function(n){return Object(Kt.a)(new r.LoadBooksFailure(n))}))})),this.addBookToCollection$=this.actions$.pipe(Object(ne.b)(u.SelectedBookPageActionTypes.AddBook),Object(yt.a)(function(n){return n.payload}),Object(se.a)(function(n){return e.db.insert("books",[n]).pipe(Object(yt.a)(function(){return new r.AddBookSuccess(n)}),Object(Xt.a)(function(){return Object(Kt.a)(new r.AddBookFailure(n))}))})),this.removeBookFromCollection$=this.actions$.pipe(Object(ne.b)(u.SelectedBookPageActionTypes.RemoveBook),Object(yt.a)(function(n){return n.payload}),Object(se.a)(function(n){return e.db.executeWrite("books","delete",[n.id]).pipe(Object(yt.a)(function(){return new r.RemoveBookSuccess(n)}),Object(Xt.a)(function(){return Object(Kt.a)(new r.RemoveBookFailure(n))}))}))}return Object(Ut.b)([Object(te.a)({dispatch:!1}),Object(Ut.d)("design:type",ue.a)],n.prototype,"openDB$",void 0),Object(Ut.b)([Object(te.a)(),Object(Ut.d)("design:type",ue.a)],n.prototype,"loadCollection$",void 0),Object(Ut.b)([Object(te.a)(),Object(Ut.d)("design:type",ue.a)],n.prototype,"addBookToCollection$",void 0),Object(Ut.b)([Object(te.a)(),Object(Ut.d)("design:type",ue.a)],n.prototype,"removeBookFromCollection$",void 0),n}(),pe=e("nNXz"),me=e("D9r6"),he=e("IvYz"),ge=e("DB2k"),ke=e("6hZr");e.d(t,"BooksModuleNgFactory",function(){return ye});var ye=s.Qa(d,[],function(n){return s.Za([s.ab(512,s.k,s.Fa,[[8,[f.a,b.a,lt,St,Pt]],[3,s.k],s.z]),s.ab(4608,w.l,w.k,[s.w,[2,w.u]]),s.ab(4608,At.c,At.c,[]),s.ab(4608,k.b,k.b,[]),s.ab(4608,Tt.a,Tt.a,[Tt.g,Tt.c,s.k,Tt.f,Tt.d,s.s,s.B,w.d,y.b]),s.ab(5120,Tt.h,Tt.i,[Tt.a]),s.ab(5120,xt.b,xt.c,[Tt.a]),s.ab(4608,xt.d,xt.d,[Tt.a,s.s,[2,w.g],[2,xt.a],xt.b,[3,xt.d],Tt.c]),s.ab(4608,S.d,S.d,[]),s.ab(4608,S.q,S.q,[]),s.ab(1073742336,w.c,w.c,[]),s.ab(1073742336,v.b,v.b,[]),s.ab(1073742336,B.c,B.c,[]),s.ab(1073742336,At.d,At.d,[]),s.ab(1073742336,g.d,g.d,[]),s.ab(1073742336,j.b,j.b,[]),s.ab(1073742336,y.a,y.a,[]),s.ab(1073742336,k.j,k.j,[[2,k.c]]),s.ab(1073742336,m.f,m.f,[]),s.ab(1073742336,k.u,k.u,[]),s.ab(1073742336,at.c,at.c,[]),s.ab(1073742336,_t.b,_t.b,[]),s.ab(1073742336,It.h,It.h,[]),s.ab(1073742336,k.l,k.l,[]),s.ab(1073742336,k.s,k.s,[]),s.ab(1073742336,Ft.a,Ft.a,[]),s.ab(1073742336,N.d,N.d,[]),s.ab(1073742336,Mt.b,Mt.b,[]),s.ab(1073742336,Lt.b,Lt.b,[]),s.ab(1073742336,C.c,C.c,[]),s.ab(1073742336,Rt.f,Rt.f,[]),s.ab(1073742336,Tt.e,Tt.e,[]),s.ab(1073742336,xt.j,xt.j,[]),s.ab(1073742336,$t.a,$t.a,[]),s.ab(1073742336,S.o,S.o,[]),s.ab(1073742336,S.n,S.n,[]),s.ab(1073742336,R.r,R.r,[[2,R.y],[2,R.o]]),s.ab(1073742336,Nt,Nt,[]),s.ab(1073742336,qt,qt,[]),s.ab(1073742336,Vt,Vt,[]),s.ab(1024,Gt.f,function(){return[{key:"books",reducerFactory:Jt.a,metaReducers:[],initialState:void 0}]},[]),s.ab(1024,Gt.g,function(){return[{search:Cn,books:Ln,collection:Nn}]},[]),s.ab(1024,Gt.h,function(n){return[n]},[Gt.g]),s.ab(1024,Gt.a,function(n,t,e){return[Qt.c(n,t,e)]},[s.s,Gt.g,Gt.h]),s.ab(1073873408,Qt.a,Qt.a,[Gt.f,Gt.a,Ht.b,Qt.b]),s.ab(512,ie,ie,[ne.a,Yt]),s.ab(512,be,be,[ne.a,pe.b]),s.ab(1024,me.a,function(n,t){return[he.a(n,t)]},[ie,be]),s.ab(1073742336,ge.a,ge.a,[ke.a,U.b,me.a,[2,Qt.b],[2,Qt.a]]),s.ab(1073742336,d,d,[]),s.ab(1024,R.m,function(){return[[{path:"find",component:tt},{path:":id",component:vt,canActivate:[Zt]},{path:"",component:Bt}]]},[])])})}}]);